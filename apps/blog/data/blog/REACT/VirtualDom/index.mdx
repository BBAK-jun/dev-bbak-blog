---
title: 'Virtual Dom Deep dive'
date: '2023-04-16T19:21:03.284Z'
summary: 'κ°€μƒλ”κ³Ό λ¦¬μ•΅νΈμ μ•κ³ λ¦¬μ¦'
tags: ['REACT']
---

![](/static/images/REACT/VirtualDom/react.png)

# Virtual Domμ€ λ¬΄μ—‡μΈκ°€?

`React`μ™€ κ°™μ€ μλ°”μ¤ν¬λ¦½νΈ λΌμ΄λΈλ¬λ¦¬μ—μ„ μ‚¬μ© λλ” κ°λ…μΈ `Virtual DOM(κ°€μƒλ”)`μ€ μ‹¤μ  `DOM(Document Object Model)`κ³Ό λΉ„μ·ν• κµ¬μ΅°λ¥Ό κ°€μ§€μ§€λ§, μλ°”μ¤ν¬λ¦½νΈ μ—”μ§„ λ©”λ¨λ¦¬μ— μƒμ£Όν•λ©° λΈλΌμ°μ €μ—μ„ μ‹¤μ λ΅ ν‘μ‹λλ” λ”κ³Όλ” λ…λ¦½μ μΌλ΅ μ΅΄μ¬ν•©λ‹λ‹¤.

κ°€μƒλ”μ΄ μ΅΄μ¬ν•λ” μλ°”μ¤ν¬λ¦½νΈ μ—”μ§„μ λ©”λ¨λ¦¬λ” λΈλΌμ°μ €μ λ λ”λ§ μ—”μ§„μ΄ λ™μ‘ν•λ” κ³³κ³Όλ” λ³„κ°μ κ³µκ°„μ΄λ‹¤. λΈλΌμ°μ €λ” μλ°”μ¤ν¬λ¦½νΈ μ—”μ§„κ³Ό λ λ”λ§ μ—”μ§„μ„ λ¶„λ¦¬ν•μ—¬ λ™μ‘ν•λ©°, μλ°”μ¤ν¬λ¦½νΈ μ—”μ§„μ€ κ°€μƒλ”μ„ λΉ„λ΅―ν• μλ°”μ¤ν¬λ¦½νΈ κ°μ²΄λ“¤μ„ μ²λ¦¬ν•κ³  λ λ”λ§ μ—”μ§„μ€ HTML CSS μ΄λ―Έμ§€ λ“±μ„ μ²λ¦¬ν•λ‹¤.

κ°€μƒλ”μ€ μλ°”μ¤ν¬λ¦½νΈμ μΌλ° κ°μ²΄λ΅ μ΄λ£¨μ–΄μ Έ μμΌλ©°, λ·°(View)λ¥Ό μ—…λ°μ΄νΈν•λ” λ° μ‚¬μ©λλ‹¤. μΌλ°μ μΌλ΅ λΈλΌμ°μ €μ—μ„ μ‹¤μ λ΅ ν‘μ‹λλ” λ”μ€ λ§¤μ° λ³µμ΅ν•κ³  λ€κ·λ¨μΌ μ μλ‹¤. μ΄λ¬ν• λ” κµ¬μ΅°λ¥Ό λ³€κ²½ν•λ©΄ λΈλΌμ°μ €κ°€ λ λ”λ§ν•λ”λ° λ§μ€ μ‹κ°„μ΄ κ±Έλ¦΄ μ μλ‹¤. μ΄λ” λ³‘λ©ν„μƒμ„ μ•ΌκΈ°ν•  μλ„ μμΌλ©° λ§μ€ μ΅°μ‘μ΄ μ΄λ£¨μ–΄μ§ κ²½μ° μ„±λ¥ μ €ν•λ¥Ό μ΄λν•  μ μλ‹¤. μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ λ¦¬μ•΅νΈμ™€ κ°™μ€ λΌμ΄λΈλ¬λ¦¬λ” κ°€μƒλ”μ„ μ‚¬μ©ν•μ—¬ λ” μ΅°μ‘μ„ μµμ†ν™”ν•κ³  μ„±λ¥μ„ κ°μ„ ν•λ‹¤.

κ°€μƒλ”μ€ μ„μ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤. λΈλΌμ°μ €μ—μ„ ν‘μ‹λλ” μ‹¤μ  λ”κ³Ό λ™κΈ°ν™” λμ§€λ” μ•λ”λ‹¤. λ€μ‹  μ—…λ°μ΄νΈλ κ°€μƒλ”μ„ μ‚¬μ©ν•μ—¬ μ΄μ „ κ°€μƒλ”κ³Ό λΉ„κµν•μ—¬ λ³€κ²½λ λ¶€λ¶„λ§ μ‹¤μ  λ”μ— μ μ©ν•λ‹¤.

μ΄λ¥Ό ν†µν•΄ λΈλΌμ°μ €μ—μ„ ν•„μ”ν• μµμ†ν•μ μ—…λ°μ΄νΈλ§ μν–‰ν•μ—¬ μ„±λ¥μ„ κ°μ„ ν•κ²λλ‹¤.

> π’΅ κ°€μƒλ” μ—­μ‹λ„ μμ›μ„ μ†λΉ„ν•κΈ°μ— κ°€μƒλ”μ μ—…λ°μ΄νΈ λν• μµμ†ν™”ν•΄μ•Όν•λ‹¤. μ΄λ¥Ό μ„ν•΄ λ¦¬μ•΅νΈμ™€ κ°™μ€ λΌμ΄λΈλ¬λ¦¬λ” λ³€κ²½λλ” λ¶€λ¶„λ§ μ—…λ°μ΄νΈν•κ³  λ¶ν•„μ”ν• λ λ”λ§μ„ λ°©μ§€ν•μ—¬ μ„±λ¥μ„ μµμ ν™”ν•λ‹¤.

λ¦¬μ•΅νΈλ” κ°€μƒλ”μ„ μ‚¬μ©ν•¨μΌλ΅μ¨ UIλ¥Ό λΉ λ¥΄κ² μ—…λ°μ΄νΈ ν•  μ μλ„λ΅ λ„μ™€μ¤€λ‹¤.

μ΄λ¥Ό ν†µν•΄ κ°λ°μλ” UI μ—…λ°μ΄νΈ λ΅μ§μ„ μ§μ ‘ μ‘μ„±ν•λ” λ€μ‹ μ— λ¦¬μ•΅νΈλΌλ” λΌμ΄λΈλ¬λ¦¬μ—κ² μ„μ„ν•λ―€λ΅ μƒμ‚°μ„±μ„ λ†’μΌ μ μλ‹¤. λν• κ°€μƒλ”μ€ λ¦¬μ–Όλ”κ³Όλ” λ³„κ°μ λ©”λ¨λ¦¬ κ³µκ°„μ—μ„ μ‘λ™ν•λ―€λ΅ UI μ—…λ°μ΄νΈ μ‘μ—…μ΄ λΉ λ¥΄κ³  ν¨μ¨μ μΌλ΅ μ²λ¦¬ λ  μ μλ‹¤.

## μ„±λ¥ν–¥μƒ

UIλ¥Ό μ—…λ°μ΄νΈν•λ” λ°©λ²•μ—λ” μ—¬λ¬κ°€μ§€ λ°©λ²•μ΄ μλ‹¤.

κ°€μ¥ κ°„λ‹¨ν• λ°©λ²•μΌλ΅λ” UI μ „μ²΄λ¥Ό μƒλ΅ λ λ”λ§ν•λ” λ°©λ²•μ΄λ‹¤. ν•μ§€λ§ μ΄ λ°©λ²•μ€ UIμ ν¬κΈ°κ°€ μ»¤μ§μλ΅ λ λ”λ§ μ‹κ°„μ΄ κΈΈμ–΄μ§€λ” λ¬Έμ κ°€ μκ³  λ³€κ²½λμ§€ μ•μ•„λ„ λλ” λ¶€λ¶„κΉμ§€ λ¨λ‘ λ¦¬λ λ”λ§μ΄ ν•„μ”ν•λ―€λ΅ λ¶ν•„μ”ν• μ‘μ—…μ΄ λ§μ•„μ§„λ‹¤.

`React`μ—μ„λ” `κ°€μƒλ”`κ³Ό `Diffing μ•κ³ λ¦¬μ¦`μ„ μ‚¬μ©ν•μ—¬ λ³€κ²½λ λ¶€λ¶„λ§ μ‹¤μ  λ”μ— μ—…λ°μ΄νΈ ν•¨μΌλ΅μ¨ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¨λ‹¤.
κ°€μƒλ”κ³Ό λ¦¬μ–Όλ”μ€ λ™μΌν• κµ¬μ΅°λ¥Ό κ°–μ§€λ§, λ©”λ¨λ¦¬ μƒμ— μ΅΄μ¬ν•λ―€λ΅ μ‹¤μ  λ”λ³΄λ‹¤ λΉ λ¥Έμ†λ„λ΅ UIμ—…λ°μ΄νΈ μ‘μ—…μ„ μ²λ¦¬ν•  μ μλ‹¤.

### Diffing μ•κ³ λ¦¬μ¦

`Diffing` μ•κ³ λ¦¬μ¦μ€ μ΄μ „ κ°€μƒλ”κ³Ό μƒλ΅μ΄ κ°€μƒλ”μ„ λΉ„κµν•μ—¬ λ³€κ²½λ λ¶€λ¶„μ„ μ°Ύμ•„λ‚΄λ” κ³Όμ •μ΄λ‹¤. μ΄μ „ κ°€μƒλ”κ³Ό μƒλ΅μ΄ κ°€μƒλ”μ€ κ°κ° ν•λ‚μ νΈλ¦¬ κµ¬μ΅°λ΅ ν‘ν„λλ©°, μ΄ νΈλ¦¬ κµ¬μ΅°λ¥Ό λΉ„κµν•μ—¬ λ…Έλ“ λ‹¨μ„λ΅ λ³€κ²½λ λ¶€λ¶„μ„ νƒμƒ‰ν•λ‹¤.

λ…Έλ“μ νƒ€μ…μ΄λ‚ μ†μ„±, μμ‹ λ…Έλ“ λ“±μ„ λΉ„κµν•μ—¬ λ³€κ²½λ λ¶€λ¶„μ„ νƒμƒ‰ν•λ‹¤. λ…Έλ“μ νƒ€μ…μ΄λ‚ μ†μ„±μ΄ λ³€κ²½λ κ²½μ° ν•΄λ‹Ή λ…Έλ“λ¥Ό μ—…λ°μ΄νΈν•κ³  μμ‹ λ…Έλ“κ°€ λ³€κ²½λ κ²½μ° ν•΄λ‹Ή λ…Έλ“μ μμ‹ λ…Έλ“λ¥Ό λΉ„κµν•μ—¬ λ³€κ²½λ λ¶€λ¶„μ„ μ°Ύμ•„λ‚Έλ‹¤.

## `Diffing` μ•κ³ λ¦¬μ¦μ κµ¬μ²΄μ μΈ λ™μ‘ λ°©μ‹μ€ μ•„λμ™€ κ°™λ‹¤.

1. νΈλ¦¬ μν
   μ΄μ „ κ°€μƒλ”κ³Ό μƒλ΅μ΄ κ°€μƒλ”μ„ μνν•λ©΄μ„ κ° λ…Έλ“μ νƒ€μ…κ³Ό μ†μ„±μ„ λΉ„κµν•λ‹¤. μ΄λ¥Ό μ„ν•΄ κ°€μƒλ”μ€ νΈλ¦¬κµ¬μ΅°λ΅ μ΄λ£¨μ–΄μ Έ μμΌλ©° κΉμ΄ μ°μ„  λ°©μ‹μΌλ΅ μνν•λ‹¤.
2. λ³€κ²½ μ—¬λ¶€ ν™•μΈ
   κ° λ…Έλ“μ νƒ€μ…κ³Ό μ†μ„±μ„ λΉ„κµν• ν›„ μ΄μ „ κ°€μƒλ”κ³Ό μƒλ΅μ΄ κ°€μƒλ”μ΄ λ™μΌν• λ…Έλ“μΈμ§€ λΉ„κµν•λ‹¤. λ…Έλ“κ°€ λ™μΌν•  κ²½μ° λ³€κ²½λμ§€μ•μ•λ‹¤κ³  νλ‹¨ν• ν›„ λ‹¤μ λ…Έλ“λ΅ μ΄λ™ν•λ‹¤.
3. λ…Έλ“ μ¶”κ°€/μ κ±°
   λ™μΌν• λ…Έλ“κ°€ μ•„λ‹ κ²½μ° ν•΄λ‹Ή λ…Έλ“λ¥Ό μ¶”κ°€ν•κ±°λ‚ μ κ±°ν•λ‹¤. μ¶”κ°€ν•λ”κ²½μ° μƒλ΅μ΄ λ…Έλ“λ¥Ό μƒμ„±ν•κ³  μ κ±°ν•λ” κ²½μ° μ΄μ „ λ…Έλ“λ¥Ό μ κ±°ν•λ‹¤.
4. μ†μ„± μ—…λ°μ΄νΈ
   λ…Έλ“κ°€ λ™μΌν•μ§€λ§ μ†μ„±μ΄ λ³€κ²½λ κ²½μ° μ†μ„±μ„ μ—…λ°μ΄νΈν•λ‹¤. μ΄μ „ μ†μ„±κ³Ό μƒλ΅μ΄ μ†μ„± κ°’μ„ λΉ„κµν•μ—¬ λ³€κ²½λ μ†μ„±λ§ μ—…λ°μ΄νΈν•κ³  λ³€κ²½λμ§€ μ•μ€ μ†μ„±μ€ κ·Έλ€λ΅ μ μ§€ν•λ‹¤.
5. μμ‹ λ…Έλ“ μν
   μμ‹ λ…Έλ“κ°€ μλ” κ²½μ° μ΄μ „ κ°€μƒλ”κ³Ό μƒλ΅μ΄ κ°€μƒλ”μ λ…Έλ“λ¥Ό μνν•λ©° Diffing μ•κ³ λ¦¬μ¦μ„ μ¬κ·€μ μΌλ΅ μ μ©ν•λ‹¤. μ΄ κ³Όμ •μ—μ„ λ³€κ²½λ λ¶€λ¶„μ΄ μλ‹¤λ©΄ ν•΄λ‹Ή λ…Έλ“λ¥Ό μ—…λ°μ΄νΈν•κ³  λ³€κ²½λμ§€ μ•μ€ λ¶€λ¶„μ€ κ·Έλ€λ΅ μ μ§€ν•λ‹¤.

### Reconciliation μ•κ³ λ¦¬μ¦

`Reconciliation` μ•κ³ λ¦¬μ¦μ€ `Diffing` μ•κ³ λ¦¬μ¦μΌλ΅ μ°Ύμ•„λ‚Έ λ³€κ²½λ λ¶€λ¶„μ„ μ‹¤μ  λ”μ— λ°μν•λ” κ³Όμ •μ΄λ‹¤. λ³€κ²½λ λ¶€λ¶„μ΄ λ§μ€ κ²½μ°μ—λ” λ¨λ“  λ³€κ²½μ‚¬ν•­μ„ μ μ©ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, λ³€κ²½λ λ¶€λ¶„λ§ μµμ†ν•μ μ‘μ—…μΌλ΅ μ²λ¦¬ν•μ—¬ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¨λ‹¤.

λ³€κ²½λ λ¶€λ¶„μ„ μ‹¤μ  λ”μ— μ μ©ν•κΈ° μ„ν•΄ λ³€κ²½λ λ…Έλ“λ¥Ό λ‹¤μ‹ κ·Έλ ¤μ•Ό ν•λ” κ²½μ°μ™€ κΈ°μ΅΄ λ…Έλ“λ¥Ό μ—…λ°μ΄νΈν•λ” κ²½μ°λ΅ λ‚λ μ μλ‹¤. κΈ°μ΅΄ λ…Έλ“λ¥Ό μ—…λ°μ΄νΈ ν•λ” κ²½μ°μ—λ” λ³€κ²½λ μ†μ„±κ°’μ΄λ‚ μμ‹ λ…Έλ“λ¥Ό μƒλ΅μ΄ κ°’μΌλ΅ κ°±μ‹ ν•λ‹¤.

## `Reconciliation` μ•κ³ λ¦¬μ¦μ κµ¬μ²΄μ μΈ λ™μ‘ λ°©μ‹μ€ μ•„λμ™€ κ°™λ‹¤.

1. λ…Έλ“ μ¶”κ°€/μ κ±°
   Diffing μ•κ³ λ¦¬μ¦μ—μ„ μ¶”κ°€λκ±°λ‚ μ κ±°λ λ…Έλ“κ°€ μλ‹¤λ©΄, ν•΄λ‹Ή λ…Έλ“λ¥Ό λ¦¬μ–Όλ”μ— μ¶”κ°€ν•κ±°λ‚ μ κ±°ν•λ‹¤. μ¶”κ°€λλ” κ²½μ° λ¦¬μ–Όλ”μ— μƒλ΅μ΄ λ…Έλ“λ¥Ό μƒμ„±ν•κ³  μ κ±°λλ” κ²½μ° ν•΄λ‹Ή λ…Έλ“λ¥Ό μ κ±°ν•κ³  μƒλ΅μ΄ μ„μΉμ— μƒλ΅μ΄ λ…Έλ“λ¥Ό μƒμ„±ν•λ‹¤.
2. λ…Έλ“μ΄λ™
   λ…Έλ“μ μ„μΉκ°€ λ³€κ²½λ κ²½μ°, ν•΄λ‹Ή λ…Έλ“λ¥Ό μƒλ΅μ΄ μ„μΉμ— μ¶”κ°€ν•λ‹¤. μ΄λ¥Ό μ„ν•΄ λ¦¬μ–Όλ”μ—μ„ ν•΄λ‹Ή λ…Έλ“λ¥Ό μ κ±°ν•κ³  μƒλ΅μ΄ μ„μΉμ— μƒλ΅μ΄ λ…Έλ“λ¥Ό μƒμ„±ν•λ‹¤
3. μ†μ„±μ—…λ°μ΄νΈ
   Diffing μ•κ³ λ¦¬μ¦μ—μ„ μ†μ„±μ΄ λ³€κ²½λ λ…Έλ“κ°€ μλ‹¤λ©΄ ν•΄λ‹Ή λ…Έλ“μ μ†μ„±μ„ μ—…λ°μ΄νΈν•λ‹¤. μ΄λ¥Ό μ„ν•΄ λ¦¬μ–Όλ”μ—μ„ ν•΄λ‹Ή λ…Έλ“μ μ†μ„±μ„ μ—…λ°μ΄νΈν•λ‹¤.
4. μμ‹λ…Έλ“ μν
   μμ‹ λ…Έλ“κ°€ μλ” κ²½μ° μ΄μ „ κ°€μƒλ”κ³Ό μƒλ΅μ΄ κ°€μƒλ”μ μμ‹ λ…Έλ“λ¥Ό μνν•λ©΄μ„ Reconciliation μ•κ³ λ¦¬μ¦μ„ μ¬κ·€μ μΌλ΅ μ μ©ν•λ‹¤. μ΄ κ³Όμ •μ—μ„ λ³€κ²½λ λ¶€λ¶„μ΄ μλ‹¤λ©΄ ν•΄λ‹Ή λ…Έλ“λ¥Ό μ—…λ°μ΄νΈν•κ³  λ³€κ²½λμ§€ μ•μ€ λ¶€λ¶„μ€ κ·Έλ€λ΅ μ μ§€ν•λ‹¤.
